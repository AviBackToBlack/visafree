var vfVersion="01/06/2016";var flags=['<img alt="" src="/img/Flag_of_Ireland.png" width="23" height="12" class="thumbborder" />','<img alt="" src="/img/Flag_of_Russia.png" width="23" height="15" class="thumbborder" />'];var wikiURLs=["https://en.wikipedia.org/wiki/Visa_requirements_for_Irish_citizens","https://ru.wikipedia.org/wiki/%D0%92%D0%B8%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5_%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F_%D0%B4%D0%BB%D1%8F_%D0%B3%D1%80%D0%B0%D0%B6%D0%B4%D0%B0%D0%BD_%D0%A0%D0%BE%D1%81%D1%81%D0%B8%D0%B8"];var countryCodes=["AD","AE","AF","AG","AI","AL","AM","AO","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BN","BO","BM","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DT-CR","DZ","EC","EG","EE","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GE","GD","GF","GG","GH","GI","GL","GM","GN","GO","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","JU","KE","KG","KH","KI","KM","KN","KP","KR","XK","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","MG","ME","MF","MH","MK","ML","MO","MM","MN","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM-DQ","UM-FQ","UM-HQ","UM-JQ","UM-MQ","UM-WQ","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"];var movementData=new Array();var called=false;var compareWeights={freedom:1,notreq:2,voa:3,evisa:4,preappvoa:5,req:6,nodata:7};function redirectOldBrowsers(){if(called){return}called=true;if((bowser.msie&&bowser.version<=8)||(bowser.firefox&&bowser.version<=25)||(bowser.opera&&bowser.version<=12.1)||(bowser.safari&&bowser.version<=7)){window.location="https://browser-update.org/update.html"}}if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){redirectOldBrowsers()},false)}else{if(document.attachEvent){if(document.documentElement.doScroll&&window==window.top){function tryScroll(){if(called){return}if(!document.body){return}try{document.documentElement.doScroll("left");redirectOldBrowsers()}catch(a){setTimeout(tryScroll,0)}}tryScroll()}document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){redirectOldBrowsers()}})}}if(window.addEventListener){window.addEventListener("load",redirectOldBrowsers,false)}else{if(window.attachEvent){window.attachEvent("onload",redirectOldBrowsers)}else{window.onload=redirectOldBrowsers}}function passportMovementRef(a){return{"-1":[],"0":movementData0,"1":movementData1}[a]}function passportCommentsRef(a){return{"-1":[],"0":commentsData0,"1":commentsData1}[a]}function labelVFRender(a){return{freedom:"Freedom of movement",notreq:"Visa not required",voa:"Visa on arrival",evisa:"eVisa / ESTA / eTA / ETA",preappvoa:"Pre-approved visa pick up on arrival",req:"Visa required prior to arrival",nodata:"No data"}[a]}function compareVisas(){var e;var c=new Array();var g;var b;var f=passportMovementRef($("#passport1").val());var a=passportMovementRef($("#passport2").val());for(var d=0;d<countryCodes.length;++d){e=countryCodes[d];c.push(typeof compareWeights[f[e]]!=="undefined"?compareWeights[f[e]]:compareWeights.nodata);c.push(typeof compareWeights[a[e]]!=="undefined"?compareWeights[a[e]]:compareWeights.nodata);g=_.min(c);b=_.invert(compareWeights)[g];movementData[e]=typeof b!=="undefined"?b:"nodata";c.splice(0,c.length)}}function onRegionVFTipShow(j,d,b){var h;var c=passportMovementRef($("#passport1").val());var a=passportMovementRef($("#passport2").val());var i=passportCommentsRef($("#passport1").val());var g=passportCommentsRef($("#passport2").val());var f=d.html()+" <b>("+labelVFRender(movementData[b])+")</b>";if(!_.isEmpty(c)){h=labelVFRender(c[b]);if(i[b]!==""){h+=" : "+i[b]}f+="</br>"+flags[passport1.options[passport1.selectedIndex].value]+" : "+h}if(!_.isEmpty(a)){h=labelVFRender(a[b]);if(g[b]!==""){h+=" : "+g[b]}f+="</br>"+flags[passport2.options[passport2.selectedIndex].value]+" : "+h}d.html(f)}function refreshMap(){var a=$("#world-map .jvectormap-container").data("mapObject");a.series.regions[0].setValues(movementData)}function displayResult(b,a){if(b==0){$("#result").html("<div class='alert alert-success'>");$("#result > .alert-success").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>");$("#result > .alert-success").append("<strong>"+a+"</strong>");$("#result > .alert-success").append("</div>")}else{$("#result").html("<div class='alert alert-danger'>");$("#result > .alert-danger").html("<button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;").append("</button>");$("#result > .alert-danger").append("<strong>"+a+"</strong>");$("#result > .alert-danger").append("</div>")}}function testOrientation(){if(window.innerWidth>755){$("body").show();$("html").removeClass("portrait")}else{$("body").hide();$("html").addClass("portrait")}}$(function(){$(window).on("orientationchange",function(){testOrientation()})});$(function(){$(window).on("resize",function(){testOrientation()})});$(function(){$(".vf-select").on("change",function(){compareVisas();refreshMap();var b=$("#passport1").val();var a=$("#passport2").val();Cookies.set("passport1",b,{expires:365});Cookies.set("passport2",a,{expires:365});$("#wiki1").val(b);b!=-1?$("#wiki1").prop("disabled",false):$("#wiki1").prop("disabled",true);$("#wiki2").val($("#passport2").val());a!=-1?$("#wiki2").prop("disabled",false):$("#wiki2").prop("disabled",true)})});$(function(){$(".btn-wiki").on("click",function(){if(this.value!=="-1"){window.open(wikiURLs[this.value],"_blank")}return false})});$(function(){$("#btn-feedback").on("click",function(){$("#btn-submit").prop("disabled",false);$("#commentform")[0].reset();$("#result").html("<div></div>");var b=Math.floor((Math.random()*9)+1);var a=Math.floor((Math.random()*9)+1);$("#captchaquestion").val(b+" + "+a+" = ");$("#captcha-question-label").text(b+" + "+a+" = ")})});$(window).load(function(){$("body").removeClass("vf-loading");testOrientation();if(typeof Cookies.get("passport1")==="undefined"){$("#passport1").val(0)}else{$("#passport1").val(Cookies.get("passport1"));Cookies.set("passport1",Cookies.get("passport1"),{expires:365})}if(typeof Cookies.get("passport2")==="undefined"){$("#passport2").val(1)}else{$("#passport2").val(Cookies.get("passport2"));Cookies.set("passport2",Cookies.get("passport2"),{expires:365})}var b=$("#passport1").val();var a=$("#passport2").val();$("#wiki1").val(b);$("#wiki1").tooltip();b!=-1?$("#wiki1").prop("disabled",false):$("#wiki1").prop("disabled",true);$("#wiki2").val($("#passport2").val());$("#wiki2").tooltip();a!=-1?$("#wiki2").prop("disabled",false):$("#wiki2").prop("disabled",true);$(function(){$("#world-map").vectorMap({map:"world_mill_en",regionStyle:{initial:{fill:"white","fill-opacity":1,stroke:"black","stroke-width":0.1}},series:{regions:[{scale:{freedom:"#00A2E8",notreq:"#22B14C",voa:"#B5E61D",evisa:"#79D343",preappvoa:"#B5A2A2",req:"#A8ACAB",nodata:"#000000"},attribute:"fill",values:{},legend:{vertical:true,cssClass:"jvectormap-legend",title:"Legend (valid as of "+vfVersion+")",labelRender:labelVFRender}}]},onRegionTipShow:onRegionVFTipShow})});compareVisas();refreshMap();$("#commentform").submit(function(c){$("#btn-submit").prop("disabled",true);$("body").addClass("vf-wait");var d={jzptopbnqn:$("input[name=email]").val(),qargkquysx:$("textarea[name=comment]").val(),sbggxvxxrk:$("input[name=captchaquestion]").val(),cxwvnkfyll:$("input[name=captcha]").val()};$.ajax({type:"POST",url:"/feedback.php",data:d,dataType:"json",encode:true}).done(function(e){$("body").removeClass("vf-wait");if(!e.success){$("#btn-submit").prop("disabled",false);displayResult(1,e.message)}else{$("#commentform")[0].reset();displayResult(0,e.message)}console.log(e)}).fail(function(e){$("body").removeClass("vf-wait");$("#btn-submit").prop("disabled",false);displayResult(1,"Failed to send your feedback.");console.log(e)});c.preventDefault()})});